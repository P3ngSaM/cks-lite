# CKS 一人公司平台实施计划（2026-02-09）

## 北极星目标
把 CKS 从“工具集合”升级为“一个人管理一支 AI 员工团队的运营平台”：
- 你是老板（个体创业者/自由职业者/全栈开发者）
- AI 员工负责执行（前端/后端/运维/产品/财务/报税/行政等）
- 飞书/企微/钉钉只是任务入口，核心价值是“本机自动执行 + 可追踪闭环”

## 关键体验定义
1. 老板一句话下发任务
2. 总指挥自动选择合适 AI 员工与 Skill
3. 工作台执行（技能 + 终端 + 桌面自动化）
4. 结果自动回写 KPI/OKR -> 项目 -> 任务
5. 看板实时展示员工状态、风险、产出与待验收

## 分阶段计划

### P0（正在实施）
- [x] 看板语义重构：从“组织老板看板”改为“我的AI公司看板”
- [x] 员工名册：支持招募/解雇、角色模板、角色说明
- [x] 调度闭环：看板一键派单 -> Workbench 自动绑定任务
- [ ] 文案统一中文化（避免老板演示时出现英文）

### P1（下一批）
- [ ] 多入口接入：飞书/企微/钉钉消息进入统一任务队列
- [ ] 执行可靠性：发送类动作增加“自动重试 + 截图核验”
- [ ] 失败升级：AI 员工失败后自动转人工并附带审计摘要
- [ ] 员工协同：员工之间可转交子任务（前端 -> 后端 -> 测试）

### P2（演示增强）
- [ ] 游戏化公司视图：像素员工小人、状态动画、风险提示
- [ ] 经营指标：本周交付、自动化率、节省时长、回退率
- [ ] SOP 模板：报告写作、桌面整理、客户沟通、资料归档

## 验收标准（演示前）
- [ ] 5 分钟内演示“下发任务 -> 自动执行 -> 回写看板”完整链路
- [ ] 关键页面无英文、无乱码、无明显空白模块
- [ ] 桌面执行失败时给出明确原因，不虚报成功
- [ ] 能清晰展示“AI 总指挥代替用户做选择”的差异化

## 当前实施记录
- 2026-02-09：正式确认产品方向为“一人公司运营平台”，开始看板与员工模型改造。
- 2026-02-09：已上线“AI员工名册”首版（模板招募/暂停/解雇/一键拉起执行），并将看板主文案切换为“我的AI公司”语义。
- 2026-02-09：已补齐“快速派单闭环”——在员工卡片可一键派发任务并自动跳转 Workbench 执行；看板空间文案已从“组织”切换为“公司空间”。
- 2026-02-09：已补齐“入口任务转派闭环”——联调任务可直接转派给数字员工并进入 Workbench；返工池新增“一键回放”用于复盘修复。
- 2026-02-09：Workbench 新增任务 SOP 按钮（回写任务 / 一键回放审计 / 转人工到看板），并支持入口任务转派成功状态回显。
- 2026-02-09：已实现“失败回流强定位”——Workbench 转人工后跳转 Board 自动定位并高亮对应任务，演示链路更清晰。
- 2026-02-09：已实现“任务定位动画”——Board 会自动滚动到目标任务并脉冲高亮，老板演示时能一眼看到回流对象。
- 2026-02-09：开始强化“任务-项目-OKR-KPI 串联”——Workbench 新增链路看板与任务动作（标记完成/验收通过/转人工），确保执行结果可直接回流目标体系。
- 2026-02-09：Goals 页面新增“目标链路驾驶舱”，按项目展示 KPI/OKR/项目/任务的风险与验收状态，并支持一键拉起下一任务执行。
- 2026-02-09：Goals 驾驶舱新增“生成今日执行队列”，可按风险自动下发 next task 并直达 Workbench，形成“管理决策 -> 执行落地”闭环。
- 2026-02-09：Goals 驾驶舱新增“一键批量拉起”，支持按员工分组批量创建执行会话并进入 Workbench。
- 2026-02-09：明确并落地“Agent + Skill = 员工职能”：AI员工模板新增主技能，并在看板发起执行时自动注入 Workbench 技能预设。
- 2026-02-09：AI员工支持增删改查与自由技能组合：可自定义岗位、主技能与技能栈（逗号组合），并在执行时自动继承到 Workbench。
- 2026-02-09：新增“技能预设管理”与“员工套用预设”，支持用户把任意技能组合保存/删除并一键应用到招募表单或现有员工。

## 新增方向：主管Agent集群（2026-02-09）
- 目标：由主管Agent驱动多个SubAgent执行，并在任务链路内完成验收与回流。
- 架构：
  - 主管Agent：目标拆解、任务分派、执行编排、结果汇总；
  - SubAgent：按岗位+Skill执行；
  - 验收机制：不通过自动返工，必要时转人工。
- 首期落地（MVP）：
  - [x] 主管一键调度接口：按负责人批量选取下一任务并写入执行队列；
  - [x] 任务级员工技能快照：确保WorkBench执行时角色/技能策略稳定；
  - [ ] 子Agent并行执行编排（含依赖关系）；
  - [ ] 主管自动验收评分（结构/质量/风险）。


- 2026-02-09：主管Agent集群MVP继续推进：新增主管验收评分（7天窗口）与调度后批量拉起执行会话，形成“主管下发 -> 子Agent执行 -> 主管验收”初版闭环。
- 2026-02-09：Supervisor review面板上线（评分+重点员工+整改拉起），主管调度与验收闭环可视化增强。
- 2026-02-09：新增“整改任务自动生成”能力：主管验收后可一键为低分员工批量创建整改任务并写入 next-task 队列。
- 2026-02-09：整改任务支持验收标准模板，并可在生成后自动拉起首个整改任务进入 Workbench。
- 2026-02-09：整改任务引入优先级（P0/P1/P2）策略，主管验收面板可直接看到优先级分布并用于生成任务。
- 2026-02-09：稳定性加固：暂停员工禁止执行、调度自动跳过暂停员工、执行拉起链路改为 await 防止跳转竞态。
- 2026-02-10：执行闭环加固：任务完成/验收前增加执行证据校验（审计+执行状态），并阻止暂停员工或缺失主技能员工被拉起执行。
- 2026-02-10：Workbench 增加“执行就绪”可视校验面板（完成/验收前可见证据状态），优先保证员工执行可控与可验收。
- 2026-02-10：引入“失败经验回注”机制：启动员工任务前自动读取该员工历史驳回样本并注入执行提示词，减少重复踩坑。
- 2026-02-10：稳定性测试补强：新增 AI 员工/技能预设 CRUD、任务级员工快照、主管调度跳过暂停员工、主管评分报告的后端单元测试，覆盖“一人公司”核心闭环。
- 2026-02-10：新增“一人公司闭环冒烟测试”（主管派单 -> 员工执行档案 -> 驳回转人工 -> 验收闭环），用于演示前快速回归。
- 2026-02-10：新增 Demo 数据注入能力（`/goals/bootstrap/demo`）：一键生成真实员工/技能预设/KPI-OKR-项目-任务状态分布，便于老板看板与闭环联调。
- 2026-02-10：启动“节点化执行”P0：新增 Node Registry（注册/心跳/能力标签/状态管理）接口，为后续跨设备自动化调度打底。
- 2026-02-10：节点化执行前端首版完成：Automation 已可按组织查看执行节点、按能力筛选、观察节点在线状态，进入“可调度可观测”阶段。
- 2026-02-10：节点调度策略首版落地：新增自动选节点能力（按在线状态+能力+OS偏好），为“飞书入口 -> 节点执行 -> 回写看板”打通准备。
- 2026-02-10：节点执行上下文已接入渠道任务与工作台：可从 Automation 选节点后派发到执行链路，Workbench 会携带节点提示继续推进任务。
- 2026-02-10：老板看板一键执行已接入节点自动选择：按员工技能自动匹配节点能力并透传到 Workbench，减少人工选节点成本。
- 2026-02-10：飞书入站自动派发已支持节点自动选择：手机端下发任务时，可按语义自动匹配执行节点并进入回写闭环。
- 2026-02-10：节点执行结果已在 Automation/Board 可视化展示，演示时可直接看到“任务由哪个节点执行”。
- 2026-02-10：Workbench 头部完成信息层级优化：首屏直接展示任务与执行节点，并支持一键清除节点绑定，提升演示与日常使用可控性。
